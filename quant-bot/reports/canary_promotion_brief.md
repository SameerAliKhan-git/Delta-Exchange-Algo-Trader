# Canary Promotion Brief

## üìã Executive Summary

**Date:** {{GENERATED_DATE}}  
**Shadow Period:** {{PERIOD_START}} to {{PERIOD_END}} ({{TOTAL_DAYS}} days)  
**Status:** {{RAG_STATUS_EMOJI}} {{RAG_STATUS}}  
**Recommendation:** {{RECOMMENDATION}}

---

## üéØ Key Performance Indicators

| KPI | Shadow Result | Target | Status |
|-----|---------------|--------|--------|
| Net P&L | ${{NET_PNL}} | ‚â•${{TARGET_PNL}} | {{PNL_STATUS}} |
| Sharpe Ratio | {{SHARPE}} | ‚â•1.5 | {{SHARPE_STATUS}} |
| Win Rate | {{WIN_RATE}}% | ‚â•52% | {{WINRATE_STATUS}} |
| Max Drawdown | ${{MAX_DD}} | ‚â§${{DD_THRESHOLD}} | {{DD_STATUS}} |
| Slippage Ratio | {{SLIP_RATIO}}√ó | ‚â§1.5√ó | {{SLIP_STATUS}} |

---

## ‚úÖ Acceptance Gate Summary

| Gate | Result | Notes |
|------|--------|-------|
| Uptime ‚â•99.5% | {{UPTIME_PASS}} | {{UPTIME_VALUE}}% |
| Slippage ‚â§1.5√ó sim | {{SLIP_PASS}} | {{SLIP_VALUE}}√ó actual |
| Max DD ‚â§2√ó backtest | {{DD_PASS}} | {{DD_VALUE}} vs {{DD_SIM}} |
| Model precision ‚â•90% baseline | {{MODEL_PASS}} | {{MODEL_VALUE}}% |
| P&L within ¬±10% sim | {{PNL_PASS}} | {{PNL_DEV}}% deviation |
| Zero critical alerts | {{ALERTS_PASS}} | {{ALERT_COUNT}} alerts |
| ‚â§3 interventions | {{INTERV_PASS}} | {{INTERV_COUNT}} interventions |

**Gates Passed:** {{GATES_PASSED}}/7

---

## ‚ö†Ô∏è Risk Assessment

### Primary Risks
1. **Slippage Risk:** Realized slippage {{SLIP_RISK}} simulated estimates
2. **Drawdown Risk:** Max DD {{DD_RISK}} of backtested levels
3. **Model Drift:** Precision {{MODEL_RISK}} of baseline

### Mitigations in Place
- ‚úÖ Real-time kill switch on drawdown breach
- ‚úÖ Auto-rollback on critical alerts
- ‚úÖ Online learning guardrails active
- ‚úÖ Position limits enforced

---

## üìä Statistical Confidence

| Test | Result | P-Value | Conclusion |
|------|--------|---------|------------|
| P&L vs Zero | {{PNL_TSTAT}} | {{PNL_PVAL}} | {{PNL_CONCLUSION}} |
| Slippage Ratio vs 1.0 | {{SLIP_TSTAT}} | {{SLIP_PVAL}} | {{SLIP_CONCLUSION}} |
| Model vs Baseline | {{MODEL_TSTAT}} | {{MODEL_PVAL}} | {{MODEL_CONCLUSION}} |

---

## üöÄ Canary Stage Configuration

If approved, Canary-1 will deploy with:

```yaml
canary_config:
  stage: Canary-1
  capital_pct: 5%  # 5% of live capital
  duration_days: 14
  
  gates:
    max_slippage_ratio: 1.25  # Tighter than shadow
    max_hourly_loss: $500
    max_daily_loss: $2000
    kill_switch_dd: $5000
  
  monitoring:
    alert_threshold_loss: $200
    check_interval_minutes: 5
    human_review_required: true
```

---

## ‚úçÔ∏è Approval Section

### For Approval (if {{RECOMMENDATION}}):

```bash
# Verify gates one more time
python reports/shadow_end_report_generator.py --log-dir /var/logs/quant/paper_run_{{RUN_DATE}}

# Start Canary-1 (requires confirmation)
python src/ops/canary_orchestrator.py --start --stage Canary-1 --confirm
```

### If Not Approved:

```bash
# Run detailed replay analysis
python src/ops/replay_suite.py --since {{PERIOD_START}} --output /tmp/replay_analysis.md

# Extend shadow period
./scripts/start_shadow.sh --duration 14 --log-dir /var/logs/quant/paper_run_extended_$(date +%F)
```

---

## üìù Sign-Off

| Role | Name | Signature | Date |
|------|------|-----------|------|
| Quant Lead | _____________ | _____________ | ___/___/___ |
| Risk Manager | _____________ | _____________ | ___/___/___ |
| SRE Lead | _____________ | _____________ | ___/___/___ |

---

*Generated by `shadow_end_report_generator.py` ‚Äî Review all metrics before signing.*
